<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>XRegExp Perf Tests</title>
    <style>
        body {
            font-family: Calibri, Verdana, Sans-serif;
            padding: 10px 30px;
            margin: 0;
        }
        applet {
            position: absolute;
            left: -9999px;
        }
    </style>
</head>
<body>
    <p id="log"></p>

    <script src="../../src/xregexp.js"></script>
    <script src="../../src/addons/build.js"></script>
    <script src="../../src/addons/matchrecursive.js"></script>
    <script src="../../src/addons/prototypes.js"></script>
    <script src="../../src/addons/unicode/unicode-base.js"></script>
    <script src="../../src/addons/unicode/unicode-blocks.js"></script>
    <script src="../../src/addons/unicode/unicode-categories.js"></script>
    <script src="../../src/addons/unicode/unicode-properties.js"></script>
    <script src="../../src/addons/unicode/unicode-scripts.js"></script>

    <script src="lib/benchmark.js"></script>
    <script src="perf.js"></script>
    <script>
    (function() {
        if (/[?&]nojava=true(?:&|$)/.test(location.search)) {
            return;
        }
        var perf = window.performance,
            begin = new Date,
            measured;
        // Check whether the applet is needed
        while (!(measured = new Date - begin)) {
            // No-op
        }
        if (measured !== 1 && !(perf && typeof (perf.now || perf.webkitNow) === 'function')) {
            // Load the applet
            document.write('<applet code="nano" archive="lib/nano.jar"></applet>');
        }
    }());

    onload = function() {
        // Give the applet time to initialize
        setTimeout(run, 15);
    };
    </script>
</body>
</html>
